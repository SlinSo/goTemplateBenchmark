// This file is generated by gorazor 2.0
// DON'T modified manually
// Should edit source file and re-generate: gorazor/index.gohtml

package gorazor

import (
	"github.com/SlinSo/goTemplateBenchmark/gorazor/tpl/helper"
	"github.com/SlinSo/goTemplateBenchmark/gorazor/tpl/layout"
	"github.com/SlinSo/goTemplateBenchmark/model"
	"github.com/sipin/gorazor/gorazor"
	"io"
	"strings"
)

func Index(u *model.User, nav []*model.Navigation, title string) string {
	var _b strings.Builder
	RenderIndex(&_b, u, nav, title)
	return _b.String()
}

func RenderIndex(_buffer io.StringWriter, u *model.User, nav []*model.Navigation, title string) {

	_body := func(_buffer io.StringWriter) {
		_buffer.WriteString("\n\n<div class=\"content\">\n\t<div class=\"welcome\">\n\t\t<h4>Hello ")
		_buffer.WriteString(gorazor.HTMLEscStr(u.FirstName))
		_buffer.WriteString("</h4>\n\n\t\t<div class=\"raw\">")
		_buffer.WriteString((u.RawContent))
		_buffer.WriteString("</div>\n\t\t<div class=\"enc\">")
		_buffer.WriteString(gorazor.HTMLEscStr(u.EscapedContent))
		_buffer.WriteString("</div>\n\t</div>")

		for i := 1; i <= 5; i++ {
			if i == 1 {

				_buffer.WriteString("<p>")
				_buffer.WriteString(gorazor.HTMLEscStr(u.FirstName))
				_buffer.WriteString(" has ")
				_buffer.WriteString(gorazor.HTMLEscInt(i))
				_buffer.WriteString(" message</p>")

			} else {

				_buffer.WriteString("<p>")
				_buffer.WriteString(gorazor.HTMLEscStr(u.FirstName))
				_buffer.WriteString(" has ")
				_buffer.WriteString(gorazor.HTMLEscStr(gorazor.Itoa(i)))
				_buffer.WriteString(" messages</p>")

			}
		}

		_buffer.WriteString("\n</div>")

	}

	_header := func(_buffer io.StringWriter) {

		_buffer.WriteString((helper.Header(title)))

	}

	_footer := func(_buffer io.StringWriter) {

		_buffer.WriteString((helper.Footer()))

	}

	_navigation := func(_buffer io.StringWriter) {

		_buffer.WriteString((helper.Navigation(nav)))

	}

	layout.RenderBase(_buffer, _body, _header, _footer, _navigation)
}
